(this.webpackJsonppassword=this.webpackJsonppassword||[]).push([[0],{112:function(e,t){},119:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){"use strict";a.r(t);a(71);var n=a(0),r=a.n(n),s=a(62),c=a.n(s),l=a(7),o=a.n(l),u=a(9),m=a(6),i=a(23),d=a(15),f=(a(82),a(63)),p=a.n(f),E=a(149),b=a(150),v=a(69),h=a(151),g=a(153),y=a(17),j=a(24),N=a(25),O=(a(119),a(64)),x=a.n(O).a.create({baseURL:"http://localhost:5000/",responseType:"json"}),w=a(65),S=a.n(w);a(136);var k=function(){return r.a.createElement("div",{className:"heading"},r.a.createElement("div",null,r.a.createElement("img",{src:S.a,alt:"PASSWORD",className:"title-img"})),r.a.createElement("div",{className:"subtitle"},"Guess it to win it!"))},I=a(152);a(137);function R(e){var t=e.children,a=e.className;return r.a.createElement(I.a.Header,{className:a},t)}function C(e){var t=e.children,a=e.className;return r.a.createElement(I.a.Body,{className:"display-card-body ".concat(a)},t)}function P(e){var t=e.children,a=e.className;return r.a.createElement(I.a.Footer,{className:a},t)}function B(e){var t=e.children,a=e.className;return r.a.createElement(I.a,{className:"display-card ".concat(a)},t)}var H={children:r.a.createElement(r.a.Fragment,null),className:""};R.defaultProps=H,C.defaultProps=H,P.defaultProps=H,B.defaultProps=H,B.Body=C,B.Header=R,B.Footer=P;var T=B;var L=function(e){var t=e.username,a=e.roomId,s=e.setUsername,c=e.setHasStarted,l=e.setRoomId,i=e.setCreator,f=e.joinRoom,p=Object(n.useState)(t),O=Object(m.a)(p,2),w=O[0],S=O[1],I=Object(d.f)(),R=function(e,t,a,n){l(e),i(t),s(w),c(n),f(w,e,a),I.push("/play/".concat(e))},C=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,s,c,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x.get("/room/join/".concat(a),{params:{username:w}});case 3:if(n=e.sent.data,console.log(n),n.success){e.next=8;break}return console.error(n.message),e.abrupt("return");case 8:r=n.message,s=r.roomId,c=r.creator,l=r.players,u=r.hasStarted,R(s,c,l,u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x.post("/room/create",{username:w});case 4:if((a=e.sent.data).success){e.next=8;break}return console.error(a.message),e.abrupt("return");case 8:n=a.message,r=n.roomId,s=n.creator,c=n.players,R(r,s,c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(E.a,{className:"card-holder"},r.a.createElement(k,null),r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(v.a,{md:"5",className:"d-flex flex-column justify-content-between home-card"},r.a.createElement(T,{className:"card-top mb-3"},r.a.createElement(T.Body,{className:"d-flex flex-column justify-content-around"},r.a.createElement("div",{className:"text-center"},r.a.createElement(y.a,{icon:j.a,size:"4x"}),r.a.createElement("div",{className:"subtitle mt-1"},"Choose your Avatar!")),r.a.createElement(h.a,{className:"mt-2",onSubmit:C},r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Control,{type:"text",placeholder:"Username",value:w,onChange:function(e){var t=e.target;return S(t.value)}})),r.a.createElement(h.a.Group,null,r.a.createElement(h.a.Control,{as:"select"},r.a.createElement("option",null,"English"))),r.a.createElement("div",{className:"text-center"},r.a.createElement(g.a,{type:"submit",variant:"success",className:"card-button"},"PLAY!"))))),r.a.createElement(T,{className:"card-bottom"},r.a.createElement(T.Body,{className:"text-center d-flex flex-column justify-content-around px-2"},r.a.createElement("div",{className:"bottom-content"},r.a.createElement(y.a,{icon:N.b,className:"mr-2"}),"Play with friends!"),r.a.createElement(g.a,{type:"submit",variant:"primary",className:"w-75 m-auto",onClick:P},"CREATE ROOM!")))),r.a.createElement(v.a,{md:"5",className:"home-card"},r.a.createElement(T,{className:"card-right p-4"},r.a.createElement(T.Header,{className:"subtitle"},"Instructions:"),r.a.createElement(T.Body,null,r.a.createElement("ol",{className:"instructions"},r.a.createElement("li",null,"A random word, the \u2018password\u2019, will be generated and displayed to a player."),r.a.createElement("li",null,"The player will type a word related to the password."),r.a.createElement("li",null,"Rest of the players will have to guess the \u2018password\u2019."),r.a.createElement("li",null,"The earlier you guess, the higher you score."),r.a.createElement("li",null,"You are allowed 4 hints."),r.a.createElement("li",null,"A hint is a single word of atmost 25 letters."),r.a.createElement("li",null,"More the number of hints you see, lesser the points."),r.a.createElement("li",null,r.a.createElement("strong",null,"Note:")," ","Check the browser console upon unexpected behaviour.")))))))};a(141);var D=function(e){var t=e.sendMessage,a=e.messageList,s=Object(n.useState)(""),c=Object(m.a)(s,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){var e=document.getElementsByClassName("messages")[0];e.scrollTop=e.scrollHeight}),[a]),r.a.createElement(T,{className:"chat"},r.a.createElement(T.Body,{className:"d-flex flex-column justify-content-between"},r.a.createElement("ul",{className:"messages mb-3"},a.map((function(e){return r.a.createElement("li",{key:e.time},r.a.createElement("strong",null,e.username),":"," ","\xa0",e.message,e.key)}))),r.a.createElement(h.a,{onSubmit:function(e){e.preventDefault(),t(l),o("")},className:"send-message"},r.a.createElement(b.a,null,r.a.createElement(v.a,null,r.a.createElement(h.a.Control,{type:"text",placeholder:"Type your guess here!",onChange:function(e){var t=e.target;return o(t.value)},value:l})),r.a.createElement(v.a,{xs:"auto"},r.a.createElement(g.a,{type:"submit",variant:"success"},"Send"))))))};a(142);function M(e){var t=e.players,a=e.header,n=e.footer;return r.a.createElement(T,{className:"chat"},a?r.a.createElement(T.Header,{className:"text-center playerlist-header"},a):r.a.createElement(r.a.Fragment,null),r.a.createElement(T.Body,{className:"text-center py-0"},r.a.createElement("div",{className:"player-list"},t.map((function(e,t){return function(e,t,a,n){return r.a.createElement(b.a,{key:n,className:"list-row py-2"},r.a.createElement(v.a,{className:"m-auto"},r.a.createElement(y.a,{icon:j.a,size:"3x"})),r.a.createElement(v.a,{sm:"auto",className:"user-col m-auto"},r.a.createElement("div",{className:"list-username"},e),r.a.createElement("div",{className:"list-points"},"Points:"," ",t)),r.a.createElement(v.a,{className:"m-auto rank"},"#",a+1))}(e.username,e.points,t,e._id)})))),n?r.a.createElement(T.Footer,{className:"text-center playerlist-footer"},n):r.a.createElement(r.a.Fragment,null))}M.defaultProps={header:"",footer:r.a.createElement(r.a.Fragment,null)};var A=M;a(143);var F=function(e){var t=e.setRounds,a=Object(n.useState)(3),s=Object(m.a)(a,2),c=s[0],l=s[1];return r.a.createElement(T,{className:"mb-2 settings"},r.a.createElement(T.Header,{className:"settings-header text-center"},"Settings"),r.a.createElement(T.Body,null,r.a.createElement(b.a,null,r.a.createElement(v.a,{className:"rounds-text"},r.a.createElement("strong",null,"Rounds:")),r.a.createElement(v.a,null,r.a.createElement(h.a.Control,{value:c,onChange:function(e){var a=e.target,n=Number(a.value);Number.isInteger(n)&&(n>9||(l(n),t(n)))}})))))};a(144);var G=function(e){var t=e.username,a=e.roomId,s=e.players,c=e.setRoomId,l=e.sendMessage,i=e.messageList,f=e.startGame,p=Object(n.useState)(a),h=Object(m.a)(p,1)[0],y=Object(d.f)(),j=Object(d.g)().room;Object(n.useEffect)((function(){c(j),h||y.push("/")}),[j,h,c,y]);var N=Object(n.useState)(3),O=Object(m.a)(N,2),w=O[0],S=O[1],I=function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,x.post("/game/start",{roomId:a,username:t,rounds:w});case 4:if((r=e.sent.data).success){e.next=8;break}return console.error(r.message),e.abrupt("return");case 8:if(r.message.hasStarted){e.next=10;break}return e.abrupt("return");case 10:f(a,t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(E.a,{fluid:!0,className:"lobby-container"},r.a.createElement(k,null),r.a.createElement(b.a,{className:"mt-4"},r.a.createElement(v.a,{md:!0,className:"lobby-players"},r.a.createElement(A,{header:"Joined",players:s,footer:r.a.createElement(g.a,{type:"submit",variant:"success",onClick:I},"Play")})),r.a.createElement(v.a,{className:"d-flex flex-column"},r.a.createElement(F,{setRounds:S}),r.a.createElement(D,{className:"lobby-chat",sendMessage:l,messageList:i}))))};a(145),a(146);function U(e){var t=e.roundEnd,a=e.currentRound,s=e.rounds,c=e.className,l=function(){var e=Math.floor((t-(new Date).getTime())/1e3);return e<0?0:e},o=Object(n.useState)(l()),u=Object(m.a)(o,2),i=u[0],d=u[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){d(l())}),1e3);return function(){return clearTimeout(e)}})),r.a.createElement(T,{className:c},r.a.createElement(T.Body,{className:"timer text-center d-flex justify-content-center"},r.a.createElement("div",{className:"left-timer py-2"},r.a.createElement(y.a,{icon:N.a})," ",i,"s"),r.a.createElement("div",{className:"right-rounds py-2"},"Round"," ",a," ","of"," ",s)))}U.defaultProps={className:""};var J=U;var z=function(e){var t=e.username,a=e.roomId,s=e.players,c=e.hints,l=e.previousPassword,i=e.currentPassword,d=e.passwordLength,f=e.currentRound,p=e.passwordHolder,y=e.sendMessage,j=e.sendHint,N=e.messageList,O=e.fetchData,w=e.solvedBy,S=e.roundEnd,I=e.rounds,R=Object(n.useState)(""),C=Object(m.a)(R,2),P=C[0],B=C[1];Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[O]),Object(n.useEffect)((function(){w.length===s.length-1&&function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[w,O,s]),Object(n.useEffect)((function(){console.log("setting timeout ran");var e=setTimeout(Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)}))),S-(new Date).getTime());return function(){return clearTimeout(e)}}),[O,S]),console.log(c,l);var H=function(){var e=Object(u.a)(o.a.mark((function e(n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x.post("/game/hint",{username:t,roomId:a,hint:P});case 3:if((r=e.sent.data).success){e.next=7;break}return console.error(r.message),e.abrupt("return");case 7:j(r.message.hints,a,t),B("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(E.a,{fluid:!0,className:"game-container"},r.a.createElement(k,null),r.a.createElement(b.a,{className:"mt-4"},r.a.createElement(v.a,{md:!0},r.a.createElement(A,{players:s})),r.a.createElement(v.a,{md:!0,className:"d-flex flex-column justify-content-center"},r.a.createElement(T,null,r.a.createElement(T.Body,{className:"text-center password-card"},r.a.createElement("div",null,"The Password is:"),r.a.createElement("div",{className:"blanks"},i?r.a.createElement("div",{className:"current-password"},i):new Array(d).fill("_ ").map((function(e){return e}))))),r.a.createElement(T,{className:"mt-2"},r.a.createElement(T.Body,{className:"d-flex flex-column justify-content-between hint-card"},r.a.createElement("div",{className:"hints"},r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"hint-pretext"},"The current hint is:"),r.a.createElement("div",{className:"current-hint mb-2"},c.slice(-1)[0])),r.a.createElement("div",{className:"prev-hint-container"},c.map((function(e,t){return r.a.createElement("div",{key:Math.random().toString()},"Hint"," ",t+1,":"," ",e)})))),r.a.createElement(h.a,{onSubmit:H,className:"send-hint"},r.a.createElement(b.a,null,r.a.createElement(v.a,null,r.a.createElement(h.a.Control,{type:"text",disabled:t!==p,placeholder:"Type the hint here!",value:P,onChange:function(e){var t=e.target;return B(t.value)}})),r.a.createElement(v.a,{xs:"auto"},r.a.createElement(g.a,{type:"submit",variant:"success"},"Send")))))),r.a.createElement(J,{className:"mt-4 w-75 mx-auto",roundEnd:S,rounds:I,currentRound:f})),r.a.createElement(v.a,{className:"game-chat"},r.a.createElement(D,{sendMessage:y,messageList:N}))))},Y=(a(147),p()("http://localhost:5000/"));var _=function(){var e=Object(n.useState)(localStorage.getItem("username")||""),t=Object(m.a)(e,2),a=t[0],s=t[1];Object(n.useEffect)((function(){localStorage.setItem("username",a)}),[a]);var c=Object(n.useState)(""),l=Object(m.a)(c,2),f=l[0],p=l[1],E=Object(n.useState)(""),b=Object(m.a)(E,2),v=b[0],h=b[1],g=Object(n.useState)(""),y=Object(m.a)(g,2),j=y[0],N=y[1],O=Object(n.useState)(""),w=Object(m.a)(O,2),S=w[0],k=w[1],I=Object(n.useState)(""),R=Object(m.a)(I,2),C=R[0],P=R[1],B=Object(n.useState)([]),H=Object(m.a)(B,2),T=H[0],D=H[1],M=Object(n.useState)([]),A=Object(m.a)(M,2),F=A[0],U=A[1],J=Object(n.useState)([]),_=Object(m.a)(J,2),V=_[0],W=_[1],q=Object(n.useState)([]),K=Object(m.a)(q,2),Q=K[0],X=K[1],Z=Object(n.useState)(0),$=Object(m.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(0),ne=Object(m.a)(ae,2),re=ne[0],se=ne[1],ce=Object(n.useState)(0),le=Object(m.a)(ce,2),oe=le[0],ue=le[1],me=Object(n.useState)(0),ie=Object(m.a)(me,2),de=ie[0],fe=ie[1],pe=Object(n.useState)(!1),Ee=Object(m.a)(pe,2),be=Ee[0],ve=Ee[1],he=function(e){e.sort((function(e,t){return t.points-e.points})),U(e)};Object(n.useEffect)((function(){Y.on("message",(function(e){var t=e.username,a=e.message,n=e.time;W((function(e){return e.concat({username:t,message:a,time:n})}))})),Y.on("join",(function(e){var t=e.players;he(t)})),Y.on("start",(function(e){var t=e.hasStarted;t&&ve(t)})),Y.on("correct",(function(e){var t=e.players,a=e.solvedBy;he(t),X(a)})),Y.on("hint",(function(e){var t=e.hints;console.log("RECEIVED HINT"),D(t)}))}),[]),Object(n.useEffect)((function(){Y.on("disconnect",(function(e){var t=e.username,a=e.creator;he(F.filter((function(e){return e.username!==t}))),h(a)}))}),[F]);var ge=function(e,t,a){e&&t&&a&&Y.emit("join",{username:e,roomId:t,players:a})},ye=function(e){e&&Y.emit("message",{username:a,roomId:f,message:e})},je=function(e,t,a){e&&t&&a&&Y.emit("hint",{passwordHolder:j,hints:e,roomId:t,username:a})},Ne=function(e,t){Y.emit("start",{roomId:e,username:t})},Oe=Object(n.useCallback)(Object(u.a)(o.a.mark((function e(){var t,n,r,s,c,l,u,m,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x.post("/game/next",{username:a,roomId:f});case 4:if((t=e.sent.data).success){e.next=9;break}return"gameEnded"===t.message&&alert("Game Over!"),console.error(t.message),e.abrupt("return");case 9:n=t.message,r=n.hints,s=n.rounds,c=n.roundEnd,l=n.currentRound,u=n.passwordHolder,m=n.passwordLength,i=n.currentPassword,d=n.previousPassword,D(r),te(s),se(c),ue(l),fe(m),N(u),k(i),P(d);case 18:case"end":return e.stop()}}),e)}))),[a,f]);return Object(n.useEffect)((function(){Y.on("next",Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:case"end":return e.stop()}}),e)}))))}),[Oe]),r.a.createElement(i.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(){return r.a.createElement(L,{roomId:f,username:a,joinRoom:ge,setRoomId:p,setCreator:h,setUsername:s,setHasStarted:ve})}}),r.a.createElement(d.a,{exact:!0,path:"/play/:room"},be?r.a.createElement(z,{hints:T,roomId:f,rounds:ee,players:F,username:a,sendHint:je,roundEnd:re,solvedBy:Q,fetchData:Oe,sendMessage:ye,messageList:V,currentRound:oe,passwordHolder:j,passwordLength:de,currentPassword:S,previousPassword:C}):r.a.createElement(G,{roomId:f,creator:v,players:F,username:a,startGame:Ne,setRoomId:p,sendMessage:ye,messageList:V}))))};c.a.render(r.a.createElement(_,null),document.getElementById("root"))},65:function(e,t,a){e.exports=a.p+"static/media/title.7d7ce879.png"},70:function(e,t,a){e.exports=a(148)}},[[70,1,2]]]);